<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Intro to AWS</title>
<meta name="author" content="(Khinshan Khan)"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="../reveal-root/css/reveal.css"/>

<link rel="stylesheet" href="../reveal-root/css/theme/serif.css" id="theme"/>

<link rel="stylesheet" href="../shared/common.css"/>

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = '../reveal-root/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h2>Intro to AWS</h2><br><h3>Khinshan Khan</h3><h4>@kkhan01</h4>
</section>

<section>
<section id="slide-org6feb200">
<h2 id="org6feb200">How the Internet Works</h2>

</section>
</section>
<section>
<section id="slide-org9720a48">
<h2 id="org9720a48">AWS Services</h2>
<p>
&#x2026; there's a lot!
</p>


<div id="orgae3eee6" class="figure">
<p><img src="imgs/aws-services.png" alt="aws-services.png" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-org642dcea">
<h2 id="org642dcea">EC2</h2>
<p>
Elastic Compute Cloud
</p>


<div id="org2d21dd0" class="figure">
<p><img src="https://images.squarespace-cdn.com/content/v1/5500a991e4b0ed07e64029e1/1441073679651-QHFNWW7PRYE94LUVDDUC/ke17ZwdGBToddI8pDm48kEQ2Glk2sPsnG3fp6sOg8zpZw-zPPgdn4jUwVcJE1ZvWEtT5uBSRWt4vQZAgTJucoTqqXjS3CfNDSuuf31e0tVEdzz_iMfAAMTL-5U729Slg2ijlNcBIboMuoYM-phOy-x926scO3xePJoa6uVJa9B4/aws-ec2-logo-v3.png?format=500w" alt="aws-ec2-logo-v3.png?format=500w" />
</p>
</div>

<p>
<a href="https://www.cadable.com/shop/aws-ec2-provisioning">https://www.cadable.com/shop/aws-ec2-provisioning</a>
</p>
</section>
</section>
<section>
<section id="slide-orgc43712d">
<h2 id="orgc43712d">EC2</h2>
<p>
Basically a VPS in the cloud that can scale.
</p>

<p>
This is usually split up for large and scalable web apps with the following services:
</p>
</section>
</section>
<section>
<section id="slide-orgff01df4">
<h2 id="orgff01df4">S3</h2>
<p>
Simple Storage Service
</p>


<div id="org898f88d" class="figure">
<p><img src="https://blitapp.com/blog/articles/upload-your-captures-to-s3/amazon-s3.jpg" alt="amazon-s3.jpg" />
</p>
</div>

<p>
<a href="https://blitapp.com/blog/articles/upload-your-captures-to-s3">https://blitapp.com/blog/articles/upload-your-captures-to-s3</a>
</p>
</section>
</section>
<section>
<section id="slide-org4f881f5">
<h2 id="org4f881f5">S3</h2>
<p>
You can store data "objects" in a geographic location.
</p>

<p>
The "objects" are really just any type of file. This is often used for assets like html files, css files, js files, json files, etc. It's akin to filesytem as a service.
</p>

</section>
</section>
<section>
<section id="slide-org7889866">
<h2 id="org7889866">Cloudfront</h2>

<div id="orga3589bd" class="figure">
<p><img src="https://www.metaltoad.com/sites/default/files/styles/large/public/2020-05/aws-cloudfront-logo-blog-header.png" alt="aws-cloudfront-logo-blog-header.png" />
</p>
</div>

<p>
<a href="https://www.metaltoad.com/">https://www.metaltoad.com/</a>
</p>
</section>
</section>
<section>
<section id="slide-orga55f30c">
<h2 id="orga55f30c">Cloudfront</h2>
<p>
A Content Delivery Network (CDN) which proxies and caches web data for users whenever possible.
</p>

<p>
Usually you use this in unison with S3 for making websites.
</p>

</section>
</section>
<section>
<section id="slide-orgcbdf056">
<h2 id="orgcbdf056">Lambda</h2>

<div id="org18af61b" class="figure">
<p><img src="https://www.thedevcoach.co.uk/wp-content/uploads/2020/01/aws-lambda.png" alt="aws-lambda.png" />
</p>
</div>

<p>
<a href="https://www.thedevcoach.co.uk">https://www.thedevcoach.co.uk</a>
</p>
</section>
</section>
<section>
<section id="slide-orge718ce3">
<h2 id="orge718ce3">Lambdas</h2>
<p>
This is the "backend" portion of the more scalable and low cost servers split.
You bundle up your code into a single function. Lambda functions are "stateless", which allows it to scale easily since there's no architecture necessary to spin up along with each instance. They can easily be containerized.
</p>
</section>
</section>
<section>
<section id="slide-orga83c8c3">
<h2 id="orga83c8c3">Lambda Hot n' Cold</h2>
<p>
After a period of inactivity, AWS will drop the container, and the function will become inactive (this is called the function becoming "cold").
</p>

<p>
It gets hot again when a trigger is detected, start up does take some time, but you're only paying for when you're using the computing power.
</p>
</section>
</section>
<section>
<section id="slide-orga8f651d">
<h2 id="orga8f651d">Lambda Events</h2>
<p>
Lambda functions need to be hook up to events/ triggers.
</p>

<p>
A basic event would be an "API Gateway Proxy Request", which is basically just an endpoint.
</p>

<p>
Another kind of trigger can be to a database event like write or modify.
</p>

<p>
There are a lot more usecases, but it would take hours ðŸ™ˆ
</p>
</section>
</section>
<section>
<section id="slide-org452e71c">
<h2 id="org452e71c">Stateless are useless, right?</h2>
<p>
If they're stateless, how are they useful is probably an important question right?
</p>

<p>
If it's entirely stateless, you can't view its logs or save data or do anything. Usually a backend is meant to process data and handle things like APIs and DBs (stereotype, I know ðŸ˜±).
</p>

<p>
The secret to serverless and stateless are services and <i>dependency injections</i>.
</p>
</section>
</section>
<section>
<section id="slide-orgc4b8e6c">
<h2 id="orgc4b8e6c">Backend Meme ðŸ˜‚</h2>

<div id="org23793fd" class="figure">
<p><img src="https://imageproxy.ifunny.co/crop:x-20,resize:640x,quality:90x75/images/e0fdfab5792e52c9ff3841ea52b91d693746f0a310fc7216a6004992513f3ff3_1.jpg" alt="e0fdfab5792e52c9ff3841ea52b91d693746f0a310fc7216a6004992513f3ff3_1.jpg" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-org4200b4f">
<h2 id="org4200b4f">CloudWatch</h2>
<p>
Basically logs and metrics as a service. It will show your logs
</p>
<div class="org-src-container">

<pre  class="src src-go"><code trim>fmt.<span style="color: #50fa7b;">Println</span><span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">"Hello!"</span><span style="color: #61bfff;">)</span>
</code></pre>
</div>

<p>
with timestamps and show when a lambda starts and ends an connection and if it failed, etc.
</p>

<p>
Note: you'll need to stringify and prettify your objects ðŸŽ¨
</p>

<div class="org-src-container">

<pre  class="src src-go"><code trim>objIndented, err := json.<span style="color: #50fa7b;">MarshalIndent</span><span style="color: #61bfff;">(</span>obj, <span style="color: #f1fa8c;">""</span>, <span style="color: #f1fa8c;">"  "</span><span style="color: #61bfff;">)</span>
<span style="color: #ff79c6;">if</span> err != <span style="color: #8be9fd;">nil</span> <span style="color: #61bfff;">{</span>
    <span style="color: #ffb86c;">panic</span><span style="color: #ff79c6;">(</span>err<span style="color: #ff79c6;">)</span>
<span style="color: #61bfff;">}</span>

fmt.<span style="color: #50fa7b;">Printf</span><span style="color: #61bfff;">(</span><span style="color: #f1fa8c;">"My Cool Obj as a pretty string:\n%v\n"</span>, <span style="color: #50fa7b;">string</span><span style="color: #ff79c6;">(</span>objIndented<span style="color: #ff79c6;">)</span><span style="color: #61bfff;">)</span>
</code></pre>
</div>
</section>
</section>
<section>
<section id="slide-org33223d8">
<h2 id="org33223d8">DynamoDB</h2>

<div id="org52a7513" class="figure">
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/DynamoDB.png/220px-DynamoDB.png" alt="220px-DynamoDB.png" />
</p>
</div>

<p>
<a href="https://upload.wikimedia.org/wikipedia/commons/">https://upload.wikimedia.org/wikipedia/commons/</a>
</p>

</section>
</section>
<section>
<section id="slide-orgcf775ad">
<h2 id="orgcf775ad">DynamoDB</h2>
<p>
Although your data may look like rows in the aws console, they're documents!
</p>

<p>
DynamoDB is a key-value and document database, think of jsons as the rows.
</p>
</section>
</section>
<section>
<section id="slide-org1a6906f">
<h2 id="org1a6906f">DynamoDB Internals</h2>

<div id="orga5cc53b" class="figure">
<p><img src="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/images/SQLtoNoSQL.png" alt="SQLtoNoSQL.png" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-org5b9c5ab">
<h2 id="org5b9c5ab">DynamoDB Quirks</h2>
<p>
You need a PK (partition key) and a SK (sort key). These keys act on attributes on the documents to make them query-able.
</p>

<p>
The PK acts to store documents in such a manner that it'll be similar to a hashmap in a sense, though the PK can be the same for some documents, in which case they're just grouped together.
</p>

<p>
The SK acts as a "sort and filter" on attributes. It allow for queries like if the SK of an item starts with, ends with, is between, less, greater, etc.
</p>
</section>
</section>
<section>
<section id="slide-orga8cb007">
<h2 id="orga8cb007">Let's make Gamestop</h2>

<div id="org103e79e" class="figure">
<p><img src="https://www.pngitem.com/pimgs/m/22-222301_gamestop-logo-gamestop-hd-png-download.png" alt="22-222301_gamestop-logo-gamestop-hd-png-download.png" />
</p>
</div>

<p>
I wanted to do a mini example of how a dynamo db may look, but of course this isn't how Gamestop is actually implemented.
</p>

<p>
Let's focus on the aspect of how Gamestop sells games ðŸ‘€
</p>

<p>
We'll make 3 users: Alice, Jane, and John.
</p>
</section>
</section>
<section>
<section id="slide-org5a7d96b">
<h2 id="org5a7d96b">What the Collections may Look Like</h2>
<div class="org-src-container">

<pre  class="src src-js"><code trim><span style="color: #61bfff;">[</span>
  <span style="color: #ff79c6;">{</span>
    name: Alice,
    age: 7,
    location: CA
  <span style="color: #ff79c6;">}</span>,
  <span style="color: #ff79c6;">{</span>
    name: Jane,
    age: 15,
    location: CA
  <span style="color: #ff79c6;">}</span>,
  <span style="color: #ff79c6;">{</span>
    name: John,
    age: 23,
    location: NY
  <span style="color: #ff79c6;">}</span>,
<span style="color: #61bfff;">]</span>
</code></pre>
</div>
</section>
</section>
<section>
<section id="slide-org463a476">
<h2 id="org463a476">What about our DB Keys?</h2>
<p>
Let's consider a login. Let's make the login super simplified: they just need to enter in their name (insecure, I know ðŸ˜±).
</p>

<p>
For querying their names, we just need a PK of name and we can get their information pretty easily.
</p>

<p>
If there were 2 Alices but in different states, we can also add in a SK on location.
</p>
</section>
</section>
<section>
<section id="slide-org422f41f">
<h2 id="org422f41f">What about more complicated things?</h2>
<p>
As Gamestop sells games, maybe they need to decide where to send more mature games vs family friendly games. In which case, we'll want a count of mature audience.
</p>

<p>
We can do a simplified count if our PK is the location and the SK is the age, and then per state we run the look up along with age &gt; 18.
</p>

<p>
This was insanely inefficient and useless tbh, a scan and reduce would've been easier, but it's just an example&#x2026;
</p>
</section>
</section>
<section>
<section id="slide-org5f9fc7a">
<h2 id="org5f9fc7a">Wow so basic&#x2026;?</h2>
<p>
I know, it seemed pretty easy to do the query, but we have an entirely different PK and SK from login when we searched.
</p>

<p>
So, does dynamo allow for multiple PK and SK? Yes, but at a cost.
</p>

<p>
What you'll have to do is create a GSI (global secondary index, you can also create a local one depending on your usecase).
</p>
</section>
</section>
<section>
<section id="slide-org1b78723">
<h2 id="org1b78723">DynamoDB GSIs</h2>
<p>
A GSI lets you define another PK and SK, at a cost.
</p>

<p>
The way it's implemented under the hood is basically by creating another second, read only, table which it will automatically copy over rows from the primary table.
</p>

<p>
Note: the copy mechanism depends on the primary table's row having the PK attribute, so in our example, if John didn't specify location, the row wouldn't be copied over and wouldn't appear in our age query.
</p>
</section>
</section>
<section>
<section id="slide-orge1c3a15">
<h2 id="orge1c3a15">SQS</h2>
<p>
Simple Queue Service
</p>

<p>
Message queue in the cloud to share messages between your infrastructure. These messages are short lived usually.
</p>

<p>
Eg you can have a lambda pull data from an api every so often and store it in the sqs. Then you can process the data in a different lambda etc.
</p>
</section>
</section>
<section>
<section id="slide-orgd37d5a2">
<h2 id="orgd37d5a2">TLDR AWS Services</h2>
<p>
There's so much more depth and breadth we can get into about AWS services.
</p>

<p>
I recommend: learn the basic ones so you have an idea of how serverless technology works. Then, google and find 'em as you need them.
</p>
</section>
</section>
<section>
<section id="slide-orgba90846">
<h2 id="orgba90846">Fin</h2>
<p>
Finally done ðŸŽ‰
</p>

<p>
Don't quote me on anything tbh.
</p>
</section>
</section>
</div>
</div>
<script src="../reveal-root/js/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
multiplex: {
    secret: '', // null if client
    id: '', // id, obtained from socket.io server
    url: '' // Location of socket.io server
},

// Optional libraries used to extend on reveal.js
dependencies: [
 { src: '../reveal-root/lib/js/classList.js', condition: function() { return !document.body.classList; } },
 { src: '../reveal-root/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: '../reveal-root/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
 { src: '../reveal-root/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
 { src: '../reveal-root/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }]
});
</script>
</body>
</html>
